{"version":3,"file":"static/js/38.5018e70e.chunk.js","mappings":"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","sources":["api/api.jsx","components/Loader/Loading.jsx","webpack://react-homework-template/./src/pages/MovieInformation/MovieDetails.module.css?3f17","pages/MovieInformation/MovieDetails.jsx"],"sourcesContent":["const key = 'a76f580e91cd6b2ed7bbe4acd57429cd';\nfunction fetchTrendMovies(newQuery) {\n    // const key = 'a76f580e91cd6b2ed7bbe4acd57429cd';\n    return fetch(\n        `https://api.themoviedb.org/3/trending/all/day?api_key=${key}&language=en-US`\n    ).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return Promise.reject(new Error(`Movie ${newQuery} not found`));\n    });\n  }\n  \n  function fetchMovieDetails(movieId) {\n    // const key = 'a76f580e91cd6b2ed7bbe4acd57429cd';\n    // const movieId = '603692'\n    return fetch(\n        `https://api.themoviedb.org/3/movie/${movieId}?api_key=${key}&language=en-US`\n    ).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return Promise.reject(new Error(`Movie not found`));\n    });\n  }\n  function fetchFilmsOnQuery(query) {\n    return fetch(\n      `https://api.themoviedb.org/3/search/movie?api_key=${key}&language=en-US&query=${query}&page=1`,\n    ).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return Promise.reject(new Error(`Movie  not found`));\n    });\n  }\n  function fetchFilmCredits(movieId) {\n    return fetch(\n  `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${key}&language=en-US`)\n  .then(\n      response => {\n        if (response.ok) {\n          return response.json();\n        }\n        return Promise.reject(new Error(`No data  found`));\n      },\n    );\n  }\n  function fetchFilmReviews(movieId) {\n    return fetch(\n      `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${key}&language=en-US&page=1`,\n    ).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return Promise.reject(new Error(`No data  found`));\n    });\n  }\n  const api = {\n    fetchFilmReviews,\n    fetchFilmsOnQuery,\n    fetchTrendMovies,\n    fetchMovieDetails,\n    fetchFilmCredits\n  };\n  \n  export default api;","// import Loader from 'react-loader-spinner';\n// import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\n// export default function Loading() {\n//   const style = {\n//     position: 'fixed',\n//     top: '50%',\n//     left: '50%',\n//     transform: 'translate(-50%, -50%)',\n//     zIndex: '99',\n//   };\n//   return (\n//     <div style={style}>\n//       <Loader\n//         type=\"Puff\"\n//         color=\"#00BFFF\"\n//         height={100}\n//         width={100}\n//         timeout={3000} \n//       />\n//     </div>\n//   );\n// }\n\nexport default function Loading() {\n    return(\n        <div>Loading...</div>\n    )\n}","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"MovieDetails_button__UVeOE\",\"image\":\"MovieDetails_image__O5+4D\",\"overview\":\"MovieDetails_overview__vYxj5\",\"title\":\"MovieDetails_title__B-duI\",\"genres\":\"MovieDetails_genres__t9hDK\",\"filmThumb\":\"MovieDetails_filmThumb__96Ii3\",\"info\":\"MovieDetails_info__H9yL3\"};","import { useState, useEffect } from 'react';\nimport {\n  Link,\n  Outlet,\n  useParams,\n  useNavigate,\n  useLocation,\n} from 'react-router-dom';\n\nimport css from './MovieDetails.module.css';\nimport api from \"api/api\";\n\nimport Loading from 'components/Loader/Loading';\n\nexport default function MovieDetails() {\n    const [movie, setMovie] = useState('');\n    const [loading, setLoading] = useState(false);\n    const { fetchMovieDetails} = api;\n\n    const { movieId } = useParams();\n    const navigate = useNavigate();\n    const location = useLocation();\n    console.log(location);\n    console.log(location.state.from);\n  \n    const goBack = () => {\n        // console.log(location.state.from);\n        navigate(location?.state?.from ?? '/');\n        // console.log(location.state.from);\n      };\n    \n      useEffect(() => {\n        if (movieId === '') {\n          return;\n        }\n        fetchFilmDetails();\n         // eslint-disable-next-line \n      }, [movieId]);\n    \n      const fetchFilmDetails = () => {\n        setLoading(true);\n        fetchMovieDetails(movieId).then(data => {\n          // console.log(data);\n          setMovie(data);\n          setLoading(false);\n        });\n      };\n \n     const score = `${Math.round(movie.vote_average*10)}`\n  \n      return (\n        <div>\n          <button type=\"button\" className={css.button} onClick={goBack}>\n            Go back\n          </button>\n          {loading && <Loading />}\n    \n          {movie && (\n            <>\n              <div className={css.filmThumb}>\n                {\n                 \n                  (\n                    <img\n                      src=\"https://i.ibb.co/8mnHvb2/no-poster.jpg\"\n                      alt=\"no_poster\"\n                      className={css.image}\n                    />\n                  ) && (\n                    <img\n                      src={`https://image.tmdb.org/t/p/w500${movie.poster_path}`}\n                      alt={movie.title}\n                      className={css.image}\n                    />\n                  )\n             \n                }\n                <div className={css.info}>\n                  <h2 className={css.title}>{movie.title}</h2>\n                  <p>User Score {score}%</p>\n                  <h3>Overview</h3>\n                  <p className={css.overview}>{movie.overview}</p>\n                  <h4>Genres</h4>\n                  <p className={css.genres}>\n                    {movie.genres.map(genre => genre.name).join(' ')}\n                  </p>\n                </div>\n              </div>\n              <div>\n                <p>Additional information</p>\n                <ul>\n                  <li>\n                    <Link\n                      to={`/movies/${movieId}/cast`}\n                      state={{ from: location.state.from }}\n                    >\n                      Cast\n                    </Link>\n                  </li>\n    \n                  <li>\n                    <Link\n                      to={`/movies/${movieId}/reviews`}\n                      state={{ from: location.state.from }}\n                    >\n                      Reviews\n                    </Link>\n                  </li>\n                </ul>\n                <Outlet />\n              </div>\n            </>\n          )}\n        </div>\n      );\n    }\n\n"],"names":["key","api","fetchFilmReviews","movieId","fetch","then","response","ok","json","Promise","reject","Error","fetchFilmsOnQuery","query","fetchTrendMovies","newQuery","fetchMovieDetails","fetchFilmCredits","Loading","MovieDetails","useState","movie","setMovie","loading","setLoading","useParams","navigate","useNavigate","location","useLocation","console","log","state","from","useEffect","fetchFilmDetails","data","score","Math","round","vote_average","type","className","css","onClick","src","alt","poster_path","title","overview","genres","map","genre","name","join","to"],"sourceRoot":""}